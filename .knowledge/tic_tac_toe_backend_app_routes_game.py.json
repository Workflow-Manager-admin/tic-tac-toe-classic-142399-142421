{"is_source_file": true, "format": "Python", "description": "This file defines Flask routes and handlers for managing Tic-Tac-Toe game logic, including creating matches against players or AI, making moves, retrieving game history, and the leaderboard. It includes route definitions, session handling, database interactions, and game state management.", "external_files": ["../db", "../models", "../schemas", "../utils"], "external_methods": ["get_db", "GameStatus", "check_winner", "ai_make_random_move", "get_opponent_marker"], "published": ["match_vs_player", "match_vs_ai", "make_move", "get_game_history", "get_leaderboard"], "classes": [], "methods": [{"name": "get_current_username()", "description": "Helper function to retrieve the username from request headers, raising Unauthorized if missing.", "scope": "", "scopeKind": ""}, {"name": "get_game_history()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_leaderboard()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "make_move(args, game_id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "match_vs_ai(args)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "match_vs_player(args)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get_db", "check_winner", "ai_make_random_move", "get_opponent_marker", "datetime.utcnow", "db.games.find_one", "db.games.insert_one", "db.users.update_one", "db.users.aggregate", "request.headers.get"], "search-terms": ["Flask Blueprint", "match_vs_player", "match_vs_ai", "make_move", "game history", "leaderboard", "tic-tac-toe routes", "game state updates", "session username"], "state": 2, "file_id": 11, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^blp = Blueprint(\"Game\", \"game\", url_prefix=\"\\/api\\/game\", description=\"Game management, play, an/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_current_username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def get_current_username():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_game_history", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def get_game_history():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_leaderboard", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def get_leaderboard():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "make_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def make_move(args, game_id):$/", "language": "Python", "kind": "function", "signature": "(args, game_id)"}, {"_type": "tag", "name": "match_vs_ai", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def match_vs_ai(args):$/", "language": "Python", "kind": "function", "signature": "(args)"}, {"_type": "tag", "name": "match_vs_player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-142399-142421/tic_tac_toe_backend/app/routes/game.py", "pattern": "/^def match_vs_player(args):$/", "language": "Python", "kind": "function", "signature": "(args)"}], "hash": "bde72d4d871eb4fa141ca49666242c51", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/app/routes/game.py", "fields": [{"name": "blp = Blueprint(\"Game\", \"game\", url_prefix=\"\\/api\\/game\", description=\"Game management, play, an/", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"23": ""}]}